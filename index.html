<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="main.js"></script>
    <meta charset="UTF-8">
    <title>javascript workspace</title>
</head>

<body>

    <p>Click the button to check your CPF number.</p>
    <p>CPF: <input type="number" id="cpf" value="*13720271730"></p>
    <button onclick="myFunction()">check</button>

    <p> <span id="demo"></span></p>

    <script>
        function httpGet(theUrl) {
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.open("GET", theUrl, false); // false for synchronous request
            xmlHttp.send(null);
            return xmlHttp.responseText;
        }

        async function myFunction() {
            let cpf = document.getElementById("cpf").value;
            document.getElementById("demo").innerHTML = await httpGet('http://localhost:8080/?cpf=*' + cpf)['response'];
        }
    </script>

</body>
</html>
